<body>

    <app-banner h1="EDIT" h2="YOUR" h3="TEAM - {{team.teamName}}"></app-banner><br>

    <div>
        <button mat-raised-button color="primary" (click)="saveTeam()">Save Team</button>
    </div>
    <div class="edit-team">
        <div class="table-players">
            <h1>Current Team</h1>
            <mat-form-field appearance="standard">
                <mat-label>Filter</mat-label>
                <input matInput (keyup)="teamapplyFilter($event)" placeholder="Ex. Kevin Durant" #input>
            </mat-form-field>
            <div class="mat-elevation-z8">
                <table mat-table [dataSource]="currentPlayers" matSort>
        
                    <!-- image -->
                    <ng-container matColumnDef="image">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header class="imagecolumn">Image</th>
                        <td mat-cell *matCellDef="let player"><img class="playerimg" src="https://ak-static.cms.nba.com/wp-content/uploads/headshots/nba/latest/260x190/{{player.playerID}}.png"></td>
                    </ng-container>
        
                    <!-- Name -->
                    <ng-container matColumnDef="name">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header class="namecolumn">Name</th>
                        <td mat-cell *matCellDef="let player">{{player.playerName}}</td>
                    </ng-container>
        
                    <!-- Team -->
                    <ng-container matColumnDef="team">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header class="statcolumn">Team</th>
                        <td mat-cell *matCellDef="let player">{{player.team}}</td>
                    </ng-container>
        
                    <!-- Points -->
                    <ng-container matColumnDef="points">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header class="statcolumn">PTS</th>
                        <td mat-cell *matCellDef="let player">{{player.points}}</td>
                    </ng-container>
        
                    <!-- Rebounds -->
                    <ng-container matColumnDef="rebounds">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header class="statcolumn">REB</th>
                        <td mat-cell *matCellDef="let player">{{player.rebounds}}</td>
                    </ng-container>
        
                    <!-- Blocks -->
                    <ng-container matColumnDef="blocks">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header class="statcolumn">BLK</th>
                        <td mat-cell *matCellDef="let player">{{player.blocks}}</td>
                    </ng-container>
        
                    <!-- Steals -->
                    <ng-container matColumnDef="steals">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header class="statcolumn">STL</th>
                        <td mat-cell *matCellDef="let player">{{player.steals}}</td>
                    </ng-container>
        
                    <!-- Assists -->
                    <ng-container matColumnDef="assists">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header class="statcolumn">AST</th>
                        <td mat-cell *matCellDef="let player">{{player.assists}}</td>
                    </ng-container>
        
                    <!-- Field Goals -->
                    <ng-container matColumnDef="fieldGoals">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header class="statcolumn">FG</th>
                        <td mat-cell *matCellDef="let player">{{player.fieldGoalsMade}}</td>
                    </ng-container>
        
                    <!-- Free Throws -->
                    <ng-container matColumnDef="freeThrows">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header class="statcolumn">FT</th>
                        <td mat-cell *matCellDef="let player">{{player.freeThrowsMade}}</td>
                    </ng-container>
        
                    <!-- Efficiency -->
                    <ng-container matColumnDef="efficiency">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header class="statcolumn">EFF</th>
                        <td mat-cell *matCellDef="let player">{{player.efficiency | number : '.2-2'}}</td>
                    </ng-container>

                    <!-- Remove -->
                    <ng-container matColumnDef="remove">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header class="statcolumn">Remove Player from team</th>
                        <td mat-cell *matCellDef="let player"><button (click)="removeFromTeam(player.PlayerID)">Remove Player</button></td>
                    </ng-container>
        
                    <tr mat-header-row *matHeaderRowDef="teamcolumnsToDisplay"></tr>
                    <tr mat-row *matRowDef="let myRowData; columns: teamcolumnsToDisplay"></tr>
        
                    <!-- Show row when no data matching filter -->
                    <tr class="mat-row" *matNoDataRow>
                        <td class="mat-cell" colspan="10">No data matching the filter "{{input.value}}"</td>
                    </tr>
                </table>
                <mat-progress-bar *ngIf="!currentPlayertableLoaded" mode="query"></mat-progress-bar>
                <!-- <mat-paginator [pageSizeOptions]="[10,100]" showFirstLastButtons aria-label="Select page of players">
                </mat-paginator> -->
                </div>
        </div>
        <div class="table-players">
            <h1>All 2020 Players</h1>
            <mat-form-field appearance="standard">
                <mat-label>Filter</mat-label>
                <input matInput (keyup)="applyFilter($event)" placeholder="Ex. Kevin Durant" #input>
            </mat-form-field>
            <div class="mat-elevation-z8">
                <table mat-table [dataSource]="dataSource" matSort>
        
                    <!-- Add to team -->
                    <ng-container matColumnDef="add">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header class="addcolumn">Add To Team</th>
                        <td mat-cell *matCellDef="let player"><button (click)="addToTeam(player.playerID)">Add Player</button></td>
                    </ng-container>

                    <!-- image -->
                    <ng-container matColumnDef="image">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header class="imagecolumn">Image</th>
                        <td mat-cell *matCellDef="let player"><img class="playerimg" src="https://ak-static.cms.nba.com/wp-content/uploads/headshots/nba/latest/260x190/{{player.playerID}}.png"></td>
                    </ng-container>
        
                    <!-- Name -->
                    <ng-container matColumnDef="name">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header class="namecolumn">Name</th>
                        <td mat-cell *matCellDef="let player">{{player.playerName}}</td>
                    </ng-container>
        
                    <!-- Team -->
                    <ng-container matColumnDef="team">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header class="statcolumn">Team</th>
                        <td mat-cell *matCellDef="let player">{{player.team}}</td>
                    </ng-container>
        
                    <!-- Points -->
                    <ng-container matColumnDef="points">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header class="statcolumn">PTS</th>
                        <td mat-cell *matCellDef="let player">{{player.points}}</td>
                    </ng-container>
        
                    <!-- Rebounds -->
                    <ng-container matColumnDef="rebounds">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header class="statcolumn">REB</th>
                        <td mat-cell *matCellDef="let player">{{player.rebounds}}</td>
                    </ng-container>
        
                    <!-- Blocks -->
                    <ng-container matColumnDef="blocks">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header class="statcolumn">BLK</th>
                        <td mat-cell *matCellDef="let player">{{player.blocks}}</td>
                    </ng-container>
        
                    <!-- Steals -->
                    <ng-container matColumnDef="steals">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header class="statcolumn">STL</th>
                        <td mat-cell *matCellDef="let player">{{player.steals}}</td>
                    </ng-container>
        
                    <!-- Assists -->
                    <ng-container matColumnDef="assists">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header class="statcolumn">AST</th>
                        <td mat-cell *matCellDef="let player">{{player.assists}}</td>
                    </ng-container>
        
                    <!-- Field Goals -->
                    <ng-container matColumnDef="fieldGoals">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header class="statcolumn">FG</th>
                        <td mat-cell *matCellDef="let player">{{player.fieldGoalsMade}}</td>
                    </ng-container>
        
                    <!-- Free Throws -->
                    <ng-container matColumnDef="freeThrows">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header class="statcolumn">FT</th>
                        <td mat-cell *matCellDef="let player">{{player.freeThrowsMade}}</td>
                    </ng-container>
        
                    <!-- Efficiency -->
                    <ng-container matColumnDef="efficiency">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header class="statcolumn">EFF</th>
                        <td mat-cell *matCellDef="let player">{{player.efficiency | number : '.2-2'}}</td>
                    </ng-container>
        
                    <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
                    <tr mat-row *matRowDef="let myRowData; columns: columnsToDisplay"></tr>
        
                    <!-- Show row when no data matching filter -->
                    <tr class="mat-row" *matNoDataRow>
                        <td class="mat-cell" colspan="10">No data matching the filter "{{input.value}}"</td>
                    </tr>
                </table>
                <mat-progress-bar *ngIf="!tableLoaded" mode="query"></mat-progress-bar>
                <mat-paginator [pageSizeOptions]="[10,100]" showFirstLastButtons aria-label="Select page of players">
                </mat-paginator>
            </div>
        </div>

    </div>

</body>
